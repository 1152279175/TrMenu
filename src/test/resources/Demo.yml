#
# 菜单的标题, 支持动态标题周期切换
#
Title:
  - 'Hello, TrMenu!'
  - 'Support Animated Titles'

#
# 若有多个标题, 切换的周期 (ticks)
#
Title-Update: 40

#
# 菜单的布局功能
#
Layout:
  - '########`Close`'
  - '         '
  - ' *       '
  - '         '
  - '#########'

Size: [5,4]

#
# 菜单的选项设置
#
Options:
  # 默认填充参数
  Default-Arguments: ['xxx']
  # 是否隐藏玩家容器
  Hide-Player-Inventory: false
  # 防频繁点击的间隔
  Min-Click-Delay: 200
  # 强制需要依赖的 PlaceholderAPI 拓展变量
  Depend-Expansions: ['server', 'player', 'progress']

#
# 菜单绑定的快捷打开方式
#
Bindings:
  # 绑定命令, 支持正则
  # 以 * 开头的将注册该命令, 将不支持参数、正则
  Commands:
    - 'trmenu'
    - 'tester'
  # 绑定到物品特征
  Items:
    - 'material:compass'
  # 绑定到快捷动作
  Shortcut:
    - 'shift+1;200'

#
# 菜单的事件处理
#
Events:
  # 开启菜单事件
  Open:
    - requirement: 'player.hasPermission("trmenu.use") || "{reason}" != "PLAYER_COMMAND"'
      actions: []
      deny-actions: []
  # 关闭菜单事件
  Close:
    - requirement: ''
      actions: []
      deny-actions: []
  Click:

#
# 菜单的图标
#
Icons:
  # 图标的唯一 ID, 可配合布局使用
  '#':
    # 优先级图标存在时, 重新计算显示图标的刷新周期
    refresh: 20
    # 显示图标的动态更新周期, 依次可对应为 Material, Name, Lore, Slots
    update: [-1,3,20]
    # 图标的显示部分
    display:
      # 页码
      page: 0
      # 槽位
      slots: [1,2,3]
      # 名称
      name: '&3Tester'
      # 材质
      material: '<head:{player_name}>'
      # Lore 描述
      lore:
        - '&7Description'
    # 图标的点击处理部分
    actions:
      # 触发方式
      left,right:
        - 'tell: you son of bitch'
      middle:
        - condition: ''
          list:
            - ''
    # 子图标设置
    icons:
      - pri: 1
        condition: ''
        display: []
        actions: []
#
# 菜单自定义周期性任务
#

Tasks:
  keepOpen:
    period: 20
    task:
      - requirement: ''
        actions: []
        deny-actions: []

#
# 菜单内置的自定义脚本变量, 可调用
#

Functions:
  balance: |-
    var balance = "%vault_eco_balance%"
    function run(){
      if (args[0] == "ADD"){
        return balance + args[1]
      }else {
        return balance - args[1]
      }
    }
    run()
  health: |-
    function math(){
      return player.getHealth()
    }
    math()